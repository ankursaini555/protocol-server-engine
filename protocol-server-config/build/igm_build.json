{"BAP":{"flows":[{"summary":"IGM Flow","id":"igm-flow","domain":"ONDC:RET10","shouldDispaly":true,"sessionData":{"version":"2.0.0","bankAccountNumber":"1234567890","ifscCode\"":" "},"protocol":{"issue":{"mapping":[{"beckn_key":"context","value":"session","compute":"buildContext(session, action)"},{"beckn_key":"message.issue.id","value":"session.issueId"},{"beckn_key":"message.issue.status","value":"session.issueStatus"},{"beckn_key":"message.issue.level","value":"session.issuelevel"},{"beckn_key":"message.issue.expected_response_time.duration","value":"session.expectedresponsetime"},{"beckn_key":"message.issue.expected_resolution_time.duration","value":"session.expectedresolutiontime"},{"beckn_key":"message.issue.ref","value":"session.ref"},{"beckn_key":"message.issue.actors","value":"session.actors"},{"beckn_key":"message.issue.source_id","value":"session.sourceid"},{"beckn_key":"message.issue.complaint_id","value":"session.complaint_id"},{"beckn_key":"message.issue.description.code","value":"session.descriptionCode"},{"beckn_key":"message.issue.description.short_desc","value":"session.descriptionshortdesc"},{"beckn_key":"message.issue.description.long_desc","value":"session.descriptionlongdesc"},{"beckn_key":"message.issue.description.additional_desc.url","value":"session.additional_desc.url"},{"beckn_key":"message.issue.description.additional_desc.content_type","value":"session.additional_desc.content_type"},{"beckn_key":"message.issue.last_action_id","value":"session.lastactionId"},{"beckn_key":"message.issue.actions[0].id","value":"session.actionsId"},{"beckn_key":"message.issue.actions[0].description.code","value":"session.actionsCode"},{"beckn_key":"message.issue.actions[0].description.short_desc","value":"session.shortDesc"},{"beckn_key":"message.issue.actions[0].updated_at","value":"session.actionUpdatedAt"},{"beckn_key":"message.issue.actions[0].action_by","value":"session.actionActionby"},{"beckn_key":"message.issue.actions[0].action_by","value":"session.actionActionby"},{"beckn_key":"message.issue.actions[0].actor_details.name","value":"session.actionActordetail"}]},"report":{"mapping":[{"beckn_key":"context","value":"session","compute":"buildContext(session, action)"},{"beckn_key":"message.ref_transaction_id","value":"session.refTransactionId"},{"beckn_key":"message.ref_message_id","value":"session.refMessage.id"}]},"on_issue":{"mapping":[{"business_key":"bpp_id","extractionPath":"context.bpp_id"},{"business_key":"bpp_uri","extractionPath":"context.bpp_uri"},{"business_key":"formData","extractionPath":"message.catalog.providers[]{providerId: id}.items[]{formUrl : xinput.form.url, id : xinput.form.id, itemId: id}"},{"business_key":"itemDetails","extractionPath":"message.catalog.providers[].items[?(parent_item_id)]{itemID: id, parentItemId: parent_item_id}"},{"business_key":"error","extractionPath":"error"}]}},"calls":[{"config":"issue","mode":"ASYNC","callback":{"config":"on_issue","endpoint":"mapper/ondc","unsolicitedEndpoint":"mapper/unsolicited"}}]}]},"BPP":{"flows":[{"summary":"IGM","id":"igm-flow","createSessionAtBuyer":true,"domain":"ONDC:RET10","shouldDispaly":true,"sessionData":{"on_status":true,"dualmode":true,"currency":"INR","subscriber_url":"https://igm-mock-service.ondc.org/igm-protocol-server-preprod/ondc","subscriber_id":"igm-mock-service.ondc.org/igm-protocol-server-preprod","actorsKey":[{"id":"NP2","type":"COUNTERPARTY_NP","info":{"org":{"name":"sellerapp.com::ONDC:RET10"},"contact":{"phone":"9450394140","email":"respondentapp@respond.com"},"person":{"name":"Jane Doe"}}}],"resolutions":[{"id":"R_PARENT","descriptor":{"code":"PARENT","short_desc":"PROVIDING RESOLUTION OPTIONS. PLEASE SELECT ONE"},"updated_at":"2024-08-14T09:57:58.841Z","proposed_by":"NP2"},{"id":"R1","ref_id":"R_PARENT","ref_type":"PARENT","descriptor":{"code":"REFUND","short_desc":"Providing refund for the item"},"updated_at":"2024-08-14T09:57:58.841Z","proposed_by":"NP2","tags":[{"descriptor":{"code":"RESOLUTION_DETAILS"},"list":[{"descriptor":{"code":"ITEM"},"value":"I1"},{"descriptor":{"code":"REFUND_AMOUNT"},"value":"200"}]}]},{"id":"R2","ref_id":"R_PARENT","ref_type":"PARENT","descriptor":{"code":"REPLACEMENT","short_desc":"Providing replacement of the item"},"updated_at":"2024-08-14T09:57:58.841Z","proposed_by":"NP2","tags":[{"descriptor":{"code":"RESOLUTION_DETAILS"},"list":[{"descriptor":{"code":"ITEM"},"value":"I1"}]}]}],"info_requested":["INFO0001","INFO0002","INFO0003"],"proposed":{"ref_id":"R_PARENT","ref_type":"RESOLUTIONS","description":{"code":"RESOLUTION_PROPOSED"}},"replacement":{"ref_id":"R2","ref_type":"RESOLUTIONS","description":{"code":"RESOLVED","name":"REPLACEMENT"}},"refund":{"ref_id":"R1","ref_type":"RESOLUTIONS","description":{"code":"RESOLVED","name":"REFUND"}},"resolution_keys":[{"id":"A9","ref_id":"R_PARENT","ref_type":"RESOLUTIONS","description":{"code":"RESOLUTION_PROPOSED"},"updated_at":"2023-01-15T10:00:00.469Z","action_by":"NP2","actor_details":{"name":"Sam Manuel"}},{"id":"A10","ref_id":"R2","ref_type":"RESOLUTIONS","description":{"code":"RESOLUTION_ACCEPTED"},"updated_at":"2023-01-15T10:00:00.469Z","action_by":"NP1","actor_details":{"name":"Sam Manuel"}},{"id":"A11","ref_id":"R2","ref_type":"RESOLUTIONS","description":null,"code":"RESOLVED","name":"REPLACEMENT","short_desc":"Providing replacement","updated_at":"2023-01-15T10:00:00.469Z","action_by":"NP2","actor_details":{"name":"Sam Manuel"}}]},"protocol":{"issue":{"sessionData":[{"business_key":"url","extractionPath":"context.bap_uri && obj.context.bpp_uri && obj.context.bap_uri == session.subscriber_url ? obj.context.bpp_uri : obj.context.bap_uri ||  obj.context.bpp_uri && obj.context.bpp_uri || obj.context.bap_uri && obj.context.bap_uri"},{"business_key":"bap_id","extractionPath":"context.bap_id && obj.context.bap_id || session && session.subscriber_id"},{"business_key":"bap_uri","extractionPath":"context.bap_uri && obj.context.bap_uri || session && session.subscriber_url"},{"business_key":"bpp_id","extractionPath":"context.bpp_id && obj.context.bpp_id || session && session.subscriber_id"},{"business_key":"bpp_uri","extractionPath":"context.bpp_uri && obj.context.bpp_uri || session && session.subscriber_url"},{"business_key":"cityCode","extractionPath":"context.location.city.code || session.cityCode"},{"business_key":"countryCode","extractionPath":"context.location.country.code || session.countryCode"},{"business_key":"message_id","extractionPath":"context.message_id"},{"business_key":"domain","extractionPath":"context.domain"},{"business_key":"bap_id","extractionPath":"context.bap_id"},{"business_key":"bap_uri","extractionPath":"context.bap_uri"},{"business_key":"bpp_id","extractionPath":"context.bpp_id"},{"business_key":"bpp_uri","extractionPath":"context.bpp_uri"},{"business_key":"core_version","extractionPath":"context.core_version"},{"business_key":"issueId","extractionPath":"message.issue.id"},{"business_key":"issuelevel","extractionPath":"message.issue.level"},{"business_key":"issueStatus","extractionPath":"message.issue.status"},{"business_key":"issuelevel","extractionPath":"message.issue.level"},{"business_key":"expected_response_time","extractionPath":"message.issue.expected_response_time"},{"business_key":"expected_resolution_time","extractionPath":"message.issue.expected_resolution_time"},{"business_key":"sourceId","extractionPath":"message.issue.source_id"},{"business_key":"lastactionid","extractionPath":"message.issue.last_action_id"},{"business_key":"description","extractionPath":"message.issue.description"},{"business_key":"actors","extractionPath":"message.issue.actors"},{"business_key":"complainantId","extractionPath":"message.issue.complainant_id"},{"business_key":"refs","extractionPath":"message.issue.refs"},{"business_key":"actions","extractionPath":"message.issue.actions"},{"business_key":"created_at","extractionPath":"message.issue.created_at"},{"business_key":"updated_at","extractionPath":"message.issue.updated_at"}],"mapping":[{"business_key":"context.action","extractionPath":"context.action"},{"business_key":"context.transaction_id","extractionPath":"context.transaction_id"},{"business_key":"context.message_id","extractionPath":"context.message_id"},{"business_key":"issue.id","extractionPath":"message.issue.id"},{"business_key":"issue.level","extractionPath":"message.issue.level"},{"business_key":"issue.status","extractionPath":"message.issue.status"},{"business_key":"issue.source_id","extractionPath":"message.issue.source_id"},{"business_key":"issue.complainant_id","extractionPath":"message.issue.complainant_id"},{"business_key":"issue.description","extractionPath":"message.issue.description"},{"business_key":"issue.refs","extractionPath":"message.issue.refs"},{"business_key":"issue.actors","extractionPath":"message.issue.actors"},{"business_key":"issue.actions","extractionPath":"message.issue.actions"},{"business_key":"issue.expected_resolution_time","extractionPath":"message.issue.expected_resolution_time"},{"business_key":"issue.expected_response_time","extractionPath":"message.issue.expected_response_time"},{"business_key":"issue.last_action_id","extractionPath":"message.issue.last_action_id"}]},"on_issue":{"sessionData":[{"beckn_key":"status","value":"data.status"},{"beckn_key":"actions_description","value":""},{"beckn_key":"actions_append","value":"let action = {id:data.id,description:  ( String(data.actions_description.name) !== \"false\" && data.actions_description || {code:data.actions_description.code,short_desc:data.actions_description.short_desc})   ,updated_at:new Date().toISOString(),action_by:\"NP2\",actor_details:data.actor_detail}; action = String(data.send_resolution)===\"false\" ? action : {...action,...session[data.send_resolution] }; session.actions_append=[action];   session.actions_append;"},{"beckn_key":"actions","value":"[...session.actions,...session.actions_append]"},{"beckn_key":"last_action_id","value":"data.id"}],"mapping":[{"beckn_key":"context","value":"session","compute":"buildContext(session, action)"},{"beckn_key":"message.update_target.path","value":"\"issue.actions\""},{"beckn_key":"message.update_target.actions","value":"\"APPENDED\""},{"beckn_key":"message.issue.id","value":"session.issueId"},{"beckn_key":"message.issue.level","value":"session.issuelevel"},{"beckn_key":"message.issue.status","value":"data.status && data.status"},{"beckn_key":"message.issue.expected_response_time","value":"session.expected_response_time"},{"beckn_key":"message.issue.expected_resolution_time","value":"session.expected_resolution_time"},{"beckn_key":"message.issue.refs","value":"session.refs"},{"beckn_key":"message.issue.actors","value":"[...session.actors,...session.actorsKey]"},{"beckn_key":"message.issue.source_id","value":"session.sourceId"},{"beckn_key":"message.issue.complainant_id","value":"session.complainantId"},{"beckn_key":"message.issue.respondent_ids","value":"[\"NP2\"]"},{"beckn_key":"message.issue.description","value":"session.description"},{"beckn_key":"message.issue.last_action_id","value":"session.last_action_id"},{"beckn_key":"message.issue.actions","value":"session.actions"},{"beckn_key":"message.issue.resolutions","value":"String(data.send_resolution) !== \"false\" && session.resolutions"},{"beckn_key":"message.issue.created_at","value":"session.created_at"},{"beckn_key":"message.issue.updated_at","value":"session.updated_at"}]},"issue_status":{"status":true,"mapping":[]},"on_issue_status":{"mapping":[{"beckn_key":"context","value":"session","compute":"buildContext(session, action)"},{"beckn_key":"message","value":"session.lastPayload.message"}]}},"calls":[{"config":"issue","mode":"ASYNC","unsolicated":false,"callback":{"config":"on_issue","endpoint":"mapper/ondc","mode":"ASYNC","unsolicitedEndpoint":"/issue"}},{"config":"on_issue","mode":"ASYNC","callback":{"config":"on_issue","endpoint":"mapper/ondc","mode":"ASYNC","unsolicitedEndpoint":"mapper/unsolicited"}}],"api":{"issue":{"default":{"service_url":"http://localhost:5501/mapper/ondc","sync":false}}},"ui":true},{"summary":"IGM","id":"igm-reverse-flow","createSessionAtBuyer":true,"dualmode":true,"domain":"ONDC:RET10","shouldDispaly":true,"sessionData":{"closed_tags":[{"descriptor":{"code":"CLOSURE_DETAILS"},"list":[{"descriptor":{"code":"RATING"},"value":"THUMBS_UP"}]}],"on_status":true,"currency":"INR","dualmode":true,"subscriber_url":"https://igm-mock-service.ondc.org/igm-protocol-server-preprod/ondc","subscriber_id":"igm-mock-service.ondc.org/igm-protocol-server-preprod","issueId":"ISSUE-1","issueStatus":"OPEN","issuelevel":"ISSUE","expected_response_time":{"duration":"PT2H"},"expected_resolution_time":{"duration":"P1D"},"item_tags":[{"descriptor":{"code":"message.order.items"},"list":[{"descriptor":{"code":"quantity.selected.count"},"value":"2"}]}],"actors":[{"id":"CUST1","type":"CONSUMER","info":{"org":{"name":"buyerapp.com::ONDC:RET10"},"person":{"name":"Sam Manuel"},"contact":{"phone":"9879879870","email":"sam@yahoo.com"}}},{"id":"NP1","type":"INTERFACING_NP","info":{"org":{"name":"buyerapp.com::ONDC:RET10"},"contact":{"phone":"9450394039","email":"buyerapp@interface.com"},"person":{"name":"John Doe"}}}],"sourceId":"CUST1","complainantId":"NP1","description":{"code":"ITM004","short_desc":"Issue with product quality","long_desc":"Product quality is not correct. facing issues while using the product","additional_desc":{"url":"https://buyerapp.com/additonal-details/desc.txt","content_type":"text/plain"},"images":["http://buyerapp.com/addtional-details/img1.png","http://buyerapp.com/addtional-details/img2.png"]},"lastactionid":"A1","action_id":"A1","resolution_keys_proposed":{"id":"A9","ref_id":"R_PARENT","ref_type":"RESOLUTIONS","description":{"code":"RESOLUTION_PROPOSED"},"updated_at":"2023-01-15T10:00:00.469Z","action_by":"NP2","actor_details":{"name":"Sam Manuel"}},"actions_description":{"code":"OPEN","short_desc":"Complaint created"},"actor_details":{"name":"Sam Manuel"},"action_append":[],"actions":[]},"protocol":{"on_issue":{"sessionData":[{"business_key":"resolutions","extractionPath":"message.issue.resolutions"},{"business_key":"bap_id","extractionPath":"context.bap_id"},{"business_key":"bap_uri","extractionPath":"context.bap_uri"},{"business_key":"cityCode","extractionPath":"context.location.city.code || session.cityCode"},{"business_key":"countryCode","extractionPath":"context.location.country.code || session.countryCode"},{"business_key":"message_id","extractionPath":"context.message_id"},{"business_key":"context.bap_id","extractionPath":"context.bap_id"},{"business_key":"context.bap_uri","extractionPath":"context.bap_uri"},{"business_key":"context.bpp_id","extractionPath":"context.bpp_ida"},{"business_key":"context.bpp_uri","extractionPath":"context.bpp_uri"},{"business_key":"context.core_version","extractionPath":"context.core_version"},{"business_key":"ref_id_action","extractionPath":"message.issue.actions.at(-1).id"},{"business_key":"issueId","extractionPath":"message.issue.id"},{"business_key":"issuelevel","extractionPath":"message.issue.level"},{"business_key":"issueStatus","extractionPath":"message.issue.status"},{"business_key":"issuelevel","extractionPath":"message.issue.level"},{"business_key":"expected_response_time","extractionPath":"message.issue.expected_response_time"},{"business_key":"expected_resolution_time","extractionPath":"message.issue.expected_resolution_time"},{"business_key":"sourceId","extractionPath":"message.issue.source_id"},{"business_key":"lastactionid","extractionPath":"message.issue.last_action_id"},{"business_key":"description","extractionPath":"message.issue.description"},{"business_key":"actors","extractionPath":"message.issue.actors"},{"business_key":"complainantId","extractionPath":"message.issue.complainant_id"},{"business_key":"refs","extractionPath":"message.issue.refs"},{"business_key":"actions","extractionPath":"message.issue.actions"}],"mapping":[{"business_key":"context","extractionPath":"context"},{"business_key":"message","extractionPath":"message"}]},"issue":{"sessionData":[{"beckn_key":"actions_append","value":"session.actions_append= removeEmptyKeys([{id:data.id,description:  ( String(data.actions_description.name) !== \"false\" && data.actions_description || {code:data.actions_description.code,short_desc:data.actions_description.short_desc,images:data.actions_description.images}),updated_at:new Date().toISOString(),action_by:\"NP1\",actor_details:data.actor_detail,ref_id:data.ref_id,ref_type:data.ref_type,tags: data.actions_description.code == \"CLOSED\" ? session.closed_tags:\"\"}]);  session.actions_append "},{"beckn_key":"resolution_keys_proposed_key","value":"session.resolution_keys_proposed_key = String(data.Resolution) !== \"false\" && data.Resolution !== undefined  ? [{id:data.id,ref_id:data.Resolution,ref_type:\"RESOLUTION\", updated_at:new Date().toISOString(),action_by:\"NP2\",\"actor_details.name\":\"Sam Manuel\"}]:[]"},{"beckn_key":"actions","value":"[...session.actions,...session.actions_append]"},{"beckn_key":"refs","value":"const ref = []; for (const [ref_type, ref_id] of Object.entries(data.ref)) {ref_id !=\"\" && ref.push({ ref_id, ref_type });} ref;"},{"beckn_key":"description_key","value":"({code:data.category,short_desc:session.description.short_desc,long_desc:session.description.long_desc,additional_desc:session.description.additional_desc,images:session.description.images})"},{"beckn_key":"issuelevel","value":"data.actions_description.code==='ESCALATED'?'GRIEVANCE':session.issuelevel"}],"mapping":[{"beckn_key":"context","value":"session","compute":"buildContext(session, action)"},{"beckn_key":"message.issue.id","value":"session.issueId"},{"beckn_key":"message.issue.level","value":"session.issuelevel"},{"beckn_key":"message.issue.status","value":"session.issueStatus"},{"beckn_key":"message.issue.expected_response_time","value":"session.expected_response_time"},{"beckn_key":"message.issue.expected_resolution_time","value":"session.expected_resolution_time"},{"beckn_key":"message.issue.refs","value":"session.refs"},{"beckn_key":"message.issue.refs[1].tags","value":"session.refs[1] && session.item_tags"},{"beckn_key":"message.issue.actors","value":"session.actors"},{"beckn_key":"message.issue.source_id","value":"session.sourceId"},{"beckn_key":"message.issue.complainant_id","value":"session.complainantId"},{"beckn_key":"message.issue.description","value":"session.description_key"},{"beckn_key":"message.issue.last_action_id","value":"data.id"},{"beckn_key":"message.issue.actions","value":"session.actions"},{"beckn_key":"message.issue.created_at","value":"session.created_at"},{"beckn_key":"message.issue.updated_at","value":"new Date(new Date().setHours(new Date().getHours() - 5))"},{"beckn_key":"message.issue.resolutions","value":"session.resolutions"}]},"issue_status":{"mapping":[{"beckn_key":"context","value":"session","compute":"buildContext(session, action)"},{"beckn_key":"message.issue_id","value":"session.issueId"}]},"on_issue_status":{"mapping":[{"business_key":"context","extractionPath":"context"},{"business_key":"message","extractionPath":"message"}]},"session-builder":{"sessionData":[{"business_key":"url","extractionPath":"context.bap_uri && obj.context.bpp_uri && obj.context.bap_uri == session.subscriber_url ? obj.context.bpp_uri : obj.context.bap_uri ||  obj.context.bpp_uri && obj.context.bpp_uri || obj.context.bap_uri && obj.context.bap_uri"},{"business_key":"bap_id","extractionPath":"context.bap_id && obj.context.bap_id || session && session.subscriber_id"},{"business_key":"bap_uri","extractionPath":"context.bap_uri && obj.context.bap_uri || session && session.subscriber_url"},{"business_key":"bpp_id","extractionPath":"context.bpp_id && obj.context.bpp_id || session && session.subscriber_id"},{"business_key":"bpp_uri","extractionPath":"context.bpp_uri && obj.context.bpp_uri || session && session.subscriber_url"},{"business_key":"cityCode","extractionPath":"context.location.city.code || session.cityCode"},{"business_key":"countryCode","extractionPath":"context.location.country.code || session.countryCode"},{"business_key":"message_id","extractionPath":"context.message_id"},{"business_key":"transactionid","extractionPath":"context.transaction_id"},{"business_key":"messageid","extractionPath":"context.message_id"},{"business_key":"core_version","extractionPath":"context.core_version"},{"business_key":"domain","extractionPath":"context.domain"},{"business_key":"created_at","extractionPath":"session.created_at?session.created_at:new Date(new Date().setDate(new Date().getDate() - 2))"}],"mapping":[{"business_key":"context","extractionPath":"context"}]}},"calls":[{"config":"on_issue","mode":"ASYNC","unsolicated":false,"callback":{"config":"issue","endpoint":"mapper/ondc","mode":"ASYNC","unsolicitedEndpoint":"/on_issue"}},{"config":"issue2","mode":"ASYNC","callback":{"config":"issue2","endpoint":"mapper/ondc","mode":"ASYNC","unsolicitedEndpoint":"mapper/unsolicited"}},{"config":"on_issue2","mode":"ASYNC","callback":{"config":"on_issue2","endpoint":"mapper/ondc","mode":"ASYNC","unsolicitedEndpoint":"mapper/unsolicited"}}],"api":{"issue":{"default":{"service_url":"http://localhost:5501/mapper/ondc","sync":false}}},"ui":true}],"flow_selector":{"issue":{"default":{"config_id":"igm-flow"},"igm-flow":{"condition":{"operation":{"type":"AND","input":{"value":[{"operation":{"type":"EQUAL","title":"Check settlement type message code","input":{"value":[{"operation":{"type":"READ","input":{"value":"req_body.message.issue.description.code"}}},"ITM004"]}}}]}}},"config_id":"igm-flow"}},"on_issue":{"default":{"config_id":"igm-reverse-flow"}},"session-builder":{"default":{"config_id":"igm-reverse-flow"}}}},"schema":{"issue":{"type":"object","properties":{"context":{"description":"Describes a beckn message context","type":"object","properties":{"domain":{"type":"string"},"location":{"type":"object","properties":{"country":{"type":"object","properties":{"code":{"type":"string","example":"IND"}}},"city":{"type":"object","properties":{"code":{"type":"string","example":"*"}}}}},"action":{"type":"string","description":"Defines the Beckn API call. Any actions other than the enumerated actions are not supported by Beckn  Protocol"},"core_version":{"type":"string","description":"Version of Beckn core API specification being used"},"bap_id":{"type":"string","description":"Unique id of the BAP. By default it is the fully qualified domain name of the BAP"},"bap_uri":{"type":"string","format":"uri","description":"URI of the BAP for accepting callbacks. Must have the same domain name as the bap_id"},"bpp_id":{"type":"string","description":"Unique id of the BPP. By default it is the fully qualified domain name of the BPP"},"bpp_uri":{"type":"string","format":"uri","description":"URI of the BPP. Must have the same domain name as the bap_id"},"transaction_id":{"type":"string","description":"This is a unique value which persists across all API calls from search through confirm"},"message_id":{"type":"string","description":"This is a unique value which persists during a request / callback cycle"},"timestamp":{"type":"string","format":"date-time","description":"Time of request generation in RFC3339 format"},"key":{"type":"string","description":"The encryption public key of the sender"},"ttl":{"type":"string","description":"The duration in ISO8601 format after timestamp for which this message holds valid"}},"required":["domain","action","location","core_version","transaction_id","message_id","bap_id","bap_uri","timestamp"]},"message":{"type":"object","properties":{"issue":{"type":"object","properties":{"id":{"type":"string"},"status":{"type":"string"},"level":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"expected_response_time":{"type":"object","properties":{"duration":{"type":"string"}}},"expected_resolution_time":{"type":"object","properties":{"duration":{"type":"string"}}},"refs":{"type":"array","items":{"type":"object","properties":{"ref_id":{"type":"string"},"ref_type":{"type":"string"},"tags":{"type":"array","items":{"type":"object","properties":{"descriptor":{"type":"object","properties":{"code":{"type":"string"}}},"list":{"type":"array","items":{"type":"object","properties":{"descriptor":{"type":"object","properties":{"code":{"type":"string"}}},"value":{"type":"string"}}}}}}}}}},"actors":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"info":{"type":"object","properties":{"org":{"type":"object","properties":{"name":{"type":"string"}}},"person":{"type":"object","properties":{"name":{"type":"string"}}},"contact":{"type":"object","properties":{"phone":{"type":"string"},"email":{"type":"string"}}}}}}}},"source_id":{"type":"string"},"complainant_id":{"type":"string"},"description":{"type":"object","properties":{"code":{"type":"string"},"short_desc":{"type":"string"},"long_desc":{"type":"string"},"additional_desc":{"type":"object","properties":{"url":{"type":"string"},"content_type":{"type":"string"}}},"images":{"type":"array","items":{"type":"string"}}}},"last_action_id":{"type":"string"},"actions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"description":{"type":"object","properties":{"code":{"type":"string"},"short_desc":{"type":"string"}}},"updated_at":{"type":"string","format":"date-time"},"action_by":{"type":"string"},"actor_details":{"type":"object","properties":{"name":{"type":"string"}}}}}}}}}}},"required":["context","message"]},"on_issue":{"type":"object","properties":{"context":{"type":"object","properties":{"domain":{"type":"string"},"location":{"type":"object","properties":{"country":{"type":"object","properties":{"code":{"type":"string"}}},"city":{"type":"object","properties":{"code":{"type":"string"}}}}},"action":{"type":"string"},"core_version":{"type":"string"},"bap_id":{"type":"string"},"bap_uri":{"type":"string"},"bpp_id":{"type":"string"},"bpp_uri":{"type":"string"},"transaction_id":{"type":"string"},"message_id":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"ttl":{"type":"string"}}},"message":{"type":"object","properties":{"issue":{"type":"object","properties":{"id":{"type":"string"},"status":{"type":"string"},"level":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"expected_response_time":{"type":"object","properties":{"duration":{"type":"string"}}},"expected_resolution_time":{"type":"object","properties":{"duration":{"type":"string"}}},"refs":{"type":"array","items":{"type":"object","properties":{"ref_id":{"type":"string"},"ref_type":{"type":"string"}}}},"actors":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"info":{"type":"object","properties":{"org":{"type":"object","properties":{"name":{"type":"string"}}},"person":{"type":"object","properties":{"name":{"type":"string"}}},"contact":{"type":"object","properties":{"phone":{"type":"string"},"email":{"type":"string"}}}}}}}},"source_id":{"type":"string"},"complainant_id":{"type":"string"},"respondent_ids":{"type":"array","items":{"type":"string"}},"description":{"type":"object","properties":{"code":{"type":"string"},"short_desc":{"type":"string"},"images":{"type":"array","items":{"type":"string"}}}},"last_action_id":{"type":"string"},"actions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"description":{"type":"object","properties":{"code":{"type":"string"},"short_desc":{"type":"string"}}},"updated_at":{"type":"string","format":"date-time"},"action_by":{"type":"string"},"actor_details":{"type":"object","properties":{"name":{"type":"string"}}}}}}}}}}},"required":["context","message"]},"session-builder":{"type":"Object"}},"version":"1.0.0"}